\section{Summary and Conclusions}
\label{sec:clustering:sum}

A two-step clustering process has been developed and implemented in this chapter, in order to detect and identify activities in a sensor activation dataset using the context knowledge provided by a domain expert. The first step of the clustering process has been devoted to find the occurrences of IAMs in an unlabelled sensor activation dataset. For that purpose, a novel pattern recognition algorithm has been developed, which uses IAMs as patterns, but also takes into account duration, location and completeness criteria. The algorithm is called $SA^3$ and it can work in scenarios where actions can appear in varied orders and both positive and missing sensor noise exist.

The initial clusters detected by $SA^3$ are then expanded in the second step of the clustering process. The $AA$ algorithm distinguishes between insider and outsider actions. For the former group of actions, a compatibility function has been defined to decide whether an insider belongs to its wrapping activity, whereas for the latter group, previous and next activities are analysed in terms of compatibility and time feasibility. For those actions which can be aggregated to the previous and the next activities, three time metrics have been defined. Using those metrics, the actions are aggregated to the time closest activity. 

The results of the clustering process are finally stored in two files: the fully annotated dataset, where every sensor activation has an activity label, and the activity clusters file, where different clusters for each activity are depicted alongside other information. Even though the clustering process has to be understood inside the global solution designed to learn extended activity models, it can also be used for further objectives. For instance, it can be used to annotate sensor activation datasets. Notice that manual methods are usually used for annotating datasets that are used for activity recognition applications. However, manual annotation has a lot of problems, namely it is prone to errors and it is very time consuming, as shown by Rashidi and Cook in \cite{Rashidi2011}. Hence, the developed activity clustering process for unlabelled sensor activation datasets can be used as an activity annotator method, as far as the required previous knowledge can be provided. 